"use strict";(self.webpackChunkpwaComedero=self.webpackChunkpwaComedero||[]).push([[842],{4842:(E,c,a)=>{a.r(c),a.d(c,{AuthModule:()=>Y});var l=a(6019),g=a(3886),i=a(9133);const w={email:[{type:"required",message:"El email es obligatorio"},{type:"pattern",message:"El email no es valido"}],password:[{type:"required",message:"La contrase\xf1a es obligatoria"},{type:"minlength",message:"La contrase\xf1a debe tener m\xednimo 8 caracteres"}]},C={username:[{type:"required",message:"El usuario es obligatorio"},{type:"minlength",message:"El usuario debe tener m\xednimo 3 caracteres"}],name:[{type:"required",message:"El nombre es obligatorio"},{type:"minlength",message:"El nombre debe tener m\xednimo 3 caracteres"}],lastname:[{type:"required",message:"Los apellidos son obligatorios"},{type:"minlength",message:"Los apellidos debe tener m\xednimo 5 caracteres"}],email:[{type:"required",message:"El email es obligatorio"},{type:"pattern",message:"El email no es valido"}],password:[{type:"required",message:"La contrase\xf1a es obligatoria"},{type:"minlength",message:"La contrase\xf1a debe tener m\xednimo 8 caracteres"}]};var t=a(3668),p=a(8260),T=a(4522);let h=(()=>{class e{constructor(o){this.http=o}login(o){return this.http.post(`${p.N.API_URL}Auth/Login`,o)}register(o){return console.log(o),this.http.post(`${p.N.API_URL}User/Create`,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(T.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=a(2387),m=a(7706),_=a(138),Z=a(86),v=a(9112);function y(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function A(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,y,2,1,"mat-error",10),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formLogin.get("email").hasError(o.type)&&(n.formLogin.get("email").dirty||n.formLogin.get("email").touched))}}function b(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function x(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,b,2,1,"mat-error",10),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formLogin.get("password").hasError(o.type)&&(n.formLogin.get("password").dirty||n.formLogin.get("password").touched))}}function L(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function O(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,L,2,1,"mat-error",13),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formRegister.get("username").hasError(o.type)&&(n.formRegister.get("username").dirty||n.formRegister.get("username").touched))}}function R(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function M(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,1,"mat-error",13),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formRegister.get("name").hasError(o.type)&&(n.formRegister.get("name").dirty||n.formRegister.get("name").touched))}}function q(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function N(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,q,2,1,"mat-error",13),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formRegister.get("lastname").hasError(o.type)&&(n.formRegister.get("lastname").dirty||n.formRegister.get("lastname").touched))}}function U(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function P(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,U,2,1,"mat-error",13),t.qZA()),2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.formRegister.get("password").hasError(o.type)&&(n.formRegister.get("password").dirty||n.formRegister.get("password").touched))}}const k=[{path:"",component:(()=>{class e{constructor(o,n,s){this.authService=o,this.router=n,this.toastr=s,this.formLogin={},this.hide=!0,this.validationMessages=w}ngOnInit(){this.formBuilder()}login(){var o,n;this.user={email:null===(o=this.formLogin.get("email"))||void 0===o?void 0:o.value,password:null===(n=this.formLogin.get("password"))||void 0===n?void 0:n.value},this.authService.login(this.user).subscribe({next:s=>localStorage.setItem("token",s.data),error:s=>{this.toastr.error("no mameeeeesss","adios",{timeOut:3e3}),this.formLogin.reset()},complete:()=>{this.toastr.success("Ya jalaaan","Titulo perron",{timeOut:3e3}),this.router.navigate(["/home"])}})}formBuilder(){this.formLogin=new i.cw({email:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),i.kI.maxLength(30)]),password:new i.NI(null,[i.kI.required,i.kI.minLength(8),i.kI.maxLength(15)])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h),t.Y36(g.F0),t.Y36(f._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:22,vars:7,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/signup"],["mat-raised-button","","type","submit"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return n.login()}),t.TgZ(3,"mat-form-field",3),t.TgZ(4,"mat-label"),t._uU(5,"Email"),t.qZA(),t._UZ(6,"input",4),t.YNc(7,A,2,1,"mat-error",5),t.qZA(),t.TgZ(8,"mat-form-field",3),t.TgZ(9,"mat-label"),t._uU(10,"Password"),t.qZA(),t._UZ(11,"input",6),t.TgZ(12,"button",7),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA(),t.qZA(),t.YNc(15,x,2,1,"mat-error",5),t.qZA(),t.TgZ(16,"h3"),t._uU(17,"\xbfAun no tienes una cuenta? "),t.TgZ(18,"a",8),t._uU(19,"Registrarse"),t.qZA(),t.qZA(),t.TgZ(20,"button",9),t._uU(21,"Iniciar sesi\xf3n"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",n.formLogin),t.xp6(5),t.Q6J("ngForOf",n.validationMessages.email),t.xp6(4),t.Q6J("type",n.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngForOf",n.validationMessages.password))},directives:[i._Y,i.JL,i.sg,m.KE,m.hX,_.Nt,i.Fj,i.JJ,i.u,l.sg,Z.lW,m.R9,v.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}.mat-form-field[_ngcontent-%COMP%]{width:20%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:70%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}.mat-form-field[_ngcontent-%COMP%]{width:50%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:80%}}"]}),e})()},{path:"signup",component:(()=>{class e{constructor(o,n,s){this.authService=o,this.router=n,this.toastr=s,this.formRegister={},this.hide=!0,this.hide2=!0,this.validationMessages=C}ngOnInit(){this.formBuilder()}register(){var o,n,s,u,d;this.user={username:null===(o=this.formRegister.get("username"))||void 0===o?void 0:o.value,name:null===(n=this.formRegister.get("name"))||void 0===n?void 0:n.value,lastname:null===(s=this.formRegister.get("lastname"))||void 0===s?void 0:s.value,email:null===(u=this.formRegister.get("email"))||void 0===u?void 0:u.value,password:null===(d=this.formRegister.get("password"))||void 0===d?void 0:d.value},this.authService.register(this.user).subscribe({next:S=>this.toastr.success("Ya jalaaan","Titulo perron",{timeOut:3e3}),error:S=>{this.toastr.error("no mameeeeesss","adios",{timeOut:3e3}),this.formRegister.reset()},complete:()=>{this.router.navigate(["/"])}})}formBuilder(){this.formRegister=new i.cw({username:new i.NI(null,[i.kI.required,i.kI.minLength(3),i.kI.maxLength(15)]),name:new i.NI(null,[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20)]),lastname:new i.NI(null,[i.kI.required,i.kI.minLength(5),i.kI.maxLength(30)]),email:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),i.kI.maxLength(30)]),password:new i.NI(null,[i.kI.required,i.kI.minLength(8),i.kI.maxLength(15)])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h),t.Y36(g.F0),t.Y36(f._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:33,vars:9,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","username"],[4,"ngFor","ngForOf"],[1,"name"],["matInput","","formControlName","name"],["matInput","","formControlName","lastname"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/"],["mat-raised-button","","type","submit"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return n.register()}),t.TgZ(3,"mat-form-field",3),t.TgZ(4,"mat-label"),t._uU(5,"Username"),t.qZA(),t._UZ(6,"input",4),t.YNc(7,O,2,1,"mat-error",5),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"mat-form-field",3),t.TgZ(10,"mat-label"),t._uU(11,"Name"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,M,2,1,"mat-error",5),t.qZA(),t.TgZ(14,"mat-form-field",3),t.TgZ(15,"mat-label"),t._uU(16,"Lastname"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,N,2,1,"mat-error",5),t.qZA(),t.qZA(),t.TgZ(19,"mat-form-field",3),t.TgZ(20,"mat-label"),t._uU(21,"Password"),t.qZA(),t._UZ(22,"input",9),t.TgZ(23,"button",10),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(24,"mat-icon"),t._uU(25),t.qZA(),t.qZA(),t.YNc(26,P,2,1,"mat-error",5),t.qZA(),t.TgZ(27,"h3"),t._uU(28,"\xbfYa tienes una cuenta? "),t.TgZ(29,"a",11),t._uU(30,"Iniciar sesi\xf3n"),t.qZA(),t.qZA(),t.TgZ(31,"button",12),t._uU(32,"Registrarse"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",n.formRegister),t.xp6(5),t.Q6J("ngForOf",n.validationMessages.username),t.xp6(6),t.Q6J("ngForOf",n.validationMessages.name),t.xp6(5),t.Q6J("ngForOf",n.validationMessages.lastname),t.xp6(4),t.Q6J("type",n.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngForOf",n.validationMessages.password))},directives:[i._Y,i.JL,i.sg,m.KE,m.hX,_.Nt,i.Fj,i.JJ,i.u,l.sg,Z.lW,m.R9,v.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}.name[_ngcontent-%COMP%]{width:50%;display:inline-flex;align-items:center;justify-content:center}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}.mat-form-field[_ngcontent-%COMP%]{width:20%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:70%}.name[_ngcontent-%COMP%]{width:40%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}.mat-form-field[_ngcontent-%COMP%]{width:50%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:80%}.name[_ngcontent-%COMP%]{width:50%}}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(k)],g.Bz]}),e})();var F=a(6771);let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,J,F.q]]}),e})()}}]);