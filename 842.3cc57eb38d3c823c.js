"use strict";(self.webpackChunkpwaComedero=self.webpackChunkpwaComedero||[]).push([[842],{4842:(E,c,a)=>{a.r(c),a.d(c,{AuthModule:()=>P});var l=a(6019),g=a(3886),i=a(9133);const w={email:[{type:"required",message:"El email es obligatorio"},{type:"pattern",message:"El email no es valido"}],password:[{type:"required",message:"La contrase\xf1a es obligatoria"},{type:"minlength",message:"La contrase\xf1a debe tener m\xednimo 8 caracteres"}]},T={username:[{type:"required",message:"El usuario es obligatorio"},{type:"minlength",message:"El usuario debe tener m\xednimo 3 caracteres"}],name:[{type:"required",message:"El nombre es obligatorio"},{type:"minlength",message:"El nombre debe tener m\xednimo 3 caracteres"}],lastname:[{type:"required",message:"Los apellidos son obligatorios"},{type:"minlength",message:"Los apellidos debe tener m\xednimo 5 caracteres"}],email:[{type:"required",message:"El email es obligatorio"},{type:"pattern",message:"El email no es valido"}],password:[{type:"required",message:"La contrase\xf1a es obligatoria"},{type:"minlength",message:"La contrase\xf1a debe tener m\xednimo 8 caracteres"}]};var e=a(3668),p=a(8260),A=a(4522);let h=(()=>{class t{constructor(o){this.http=o}login(o){return this.http.post(`${p.N.API_URL}Auth/Login`,o)}register(o){return console.log(o),this.http.post(`${p.N.API_URL}User/Create`,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(A.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=a(2387),m=a(7706),_=a(138),Z=a(86),v=a(9112);function C(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function y(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,C,2,1,"mat-error",10),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formLogin.get("email").hasError(o.type)&&(r.formLogin.get("email").dirty||r.formLogin.get("email").touched))}}function I(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function x(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,I,2,1,"mat-error",10),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formLogin.get("password").hasError(o.type)&&(r.formLogin.get("password").dirty||r.formLogin.get("password").touched))}}function L(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function R(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,1,"mat-error",12),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formRegister.get("username").hasError(o.type)&&(r.formRegister.get("username").dirty||r.formRegister.get("username").touched))}}function q(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function O(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,q,2,1,"mat-error",12),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formRegister.get("name").hasError(o.type)&&(r.formRegister.get("name").dirty||r.formRegister.get("name").touched))}}function N(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function M(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,N,2,1,"mat-error",12),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formRegister.get("lastname").hasError(o.type)&&(r.formRegister.get("lastname").dirty||r.formRegister.get("lastname").touched))}}function U(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function J(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,U,2,1,"mat-error",12),e.qZA()),2&t){const o=n.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.formRegister.get("password").hasError(o.type)&&(r.formRegister.get("password").dirty||r.formRegister.get("password").touched))}}const k=[{path:"",component:(()=>{class t{constructor(o,r,s){this.authService=o,this.router=r,this.toastr=s,this.formLogin={},this.hide=!0,this.validationMessages=w}ngOnInit(){this.formBuilder()}login(){var o,r;this.user={email:null===(o=this.formLogin.get("email"))||void 0===o?void 0:o.value,password:null===(r=this.formLogin.get("password"))||void 0===r?void 0:r.value},this.authService.login(this.user).subscribe({next:s=>localStorage.setItem("token",s.data),error:s=>{this.toastr.error("no mameeeeesss","adios",{timeOut:3e3}),this.formLogin.reset()},complete:()=>{this.toastr.success("Ya jalaaan","Titulo perron",{timeOut:3e3}),this.router.navigate(["/home"])}})}formBuilder(){this.formLogin=new i.cw({email:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),i.kI.maxLength(30)]),password:new i.NI(null,[i.kI.required,i.kI.minLength(8),i.kI.maxLength(15)])})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(h),e.Y36(g.F0),e.Y36(f._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:22,vars:7,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/signup"],["mat-raised-button","","type","submit"],[4,"ngIf"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.login()}),e.TgZ(3,"mat-form-field",3),e.TgZ(4,"mat-label"),e._uU(5,"Email"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,y,2,1,"mat-error",5),e.qZA(),e.TgZ(8,"mat-form-field",3),e.TgZ(9,"mat-label"),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",6),e.TgZ(12,"button",7),e.NdJ("click",function(){return r.hide=!r.hide}),e.TgZ(13,"mat-icon"),e._uU(14),e.qZA(),e.qZA(),e.YNc(15,x,2,1,"mat-error",5),e.qZA(),e.TgZ(16,"h3"),e._uU(17,"\xbfAun no tienes una cuenta? "),e.TgZ(18,"a",8),e._uU(19,"Registrarse"),e.qZA(),e.qZA(),e.TgZ(20,"button",9),e._uU(21,"Iniciar sesi\xf3n"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",r.formLogin),e.xp6(5),e.Q6J("ngForOf",r.validationMessages.email),e.xp6(4),e.Q6J("type",r.hide?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hide),e.xp6(2),e.Oqu(r.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngForOf",r.validationMessages.password))},directives:[i._Y,i.JL,i.sg,m.KE,m.hX,_.Nt,i.Fj,i.JJ,i.u,l.sg,Z.lW,m.R9,v.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}}"]}),t})()},{path:"signup",component:(()=>{class t{constructor(o,r,s){this.authService=o,this.router=r,this.toastr=s,this.formRegister={},this.hide=!0,this.hide2=!0,this.validationMessages=T}ngOnInit(){this.formBuilder()}register(){var o,r,s,u,d;this.user={username:null===(o=this.formRegister.get("username"))||void 0===o?void 0:o.value,name:null===(r=this.formRegister.get("name"))||void 0===r?void 0:r.value,lastname:null===(s=this.formRegister.get("lastname"))||void 0===s?void 0:s.value,email:null===(u=this.formRegister.get("email"))||void 0===u?void 0:u.value,password:null===(d=this.formRegister.get("password"))||void 0===d?void 0:d.value},this.authService.register(this.user).subscribe({next:S=>this.toastr.success("Ya jalaaan","Titulo perron",{timeOut:3e3}),error:S=>{this.toastr.error("no mameeeeesss","adios",{timeOut:3e3}),this.formRegister.reset()},complete:()=>{this.router.navigate(["/"])}})}formBuilder(){this.formRegister=new i.cw({username:new i.NI(null,[i.kI.required,i.kI.minLength(3),i.kI.maxLength(15)]),name:new i.NI(null,[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20)]),lastname:new i.NI(null,[i.kI.required,i.kI.minLength(5),i.kI.maxLength(30)]),email:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),i.kI.maxLength(30)]),password:new i.NI(null,[i.kI.required,i.kI.minLength(8),i.kI.maxLength(15)])})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(h),e.Y36(g.F0),e.Y36(f._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:32,vars:9,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","username"],[4,"ngFor","ngForOf"],["matInput","","formControlName","name"],["matInput","","formControlName","lastname"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/"],["mat-raised-button","","type","submit"],[4,"ngIf"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.register()}),e.TgZ(3,"mat-form-field",3),e.TgZ(4,"mat-label"),e._uU(5,"Username"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,R,2,1,"mat-error",5),e.qZA(),e.TgZ(8,"mat-form-field",3),e.TgZ(9,"mat-label"),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",6),e.YNc(12,O,2,1,"mat-error",5),e.qZA(),e.TgZ(13,"mat-form-field",3),e.TgZ(14,"mat-label"),e._uU(15,"Lastname"),e.qZA(),e._UZ(16,"input",7),e.YNc(17,M,2,1,"mat-error",5),e.qZA(),e.TgZ(18,"mat-form-field",3),e.TgZ(19,"mat-label"),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",8),e.TgZ(22,"button",9),e.NdJ("click",function(){return r.hide=!r.hide}),e.TgZ(23,"mat-icon"),e._uU(24),e.qZA(),e.qZA(),e.YNc(25,J,2,1,"mat-error",5),e.qZA(),e.TgZ(26,"h3"),e._uU(27,"\xbfYa tienes una cuenta? "),e.TgZ(28,"a",10),e._uU(29,"Iniciar sesi\xf3n"),e.qZA(),e.qZA(),e.TgZ(30,"button",11),e._uU(31,"Registrarse"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",r.formRegister),e.xp6(5),e.Q6J("ngForOf",r.validationMessages.username),e.xp6(5),e.Q6J("ngForOf",r.validationMessages.name),e.xp6(5),e.Q6J("ngForOf",r.validationMessages.lastname),e.xp6(4),e.Q6J("type",r.hide?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hide),e.xp6(2),e.Oqu(r.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngForOf",r.validationMessages.password))},directives:[i._Y,i.JL,i.sg,m.KE,m.hX,_.Nt,i.Fj,i.JJ,i.u,l.sg,Z.lW,m.R9,v.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(k)],g.Bz]}),t})();var Y=a(6771);let P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,F,Y.q]]}),t})()}}]);