"use strict";(self.webpackChunkpwaComedero=self.webpackChunkpwaComedero||[]).push([[865],{4865:($,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>Q});var l=a(6019),g=a(3886),r=a(9133),p=a(7819),t=a(3668),f=a(8260),C=a(4522);let h=(()=>{class e{constructor(o){this.http=o}login(o){return this.http.post(`${f.N.API_URL}Auth/Login`,o)}register(o){return console.log(o),this.http.post(`${f.N.API_URL}User/Create`,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(C.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=a(2387),m=a(7706),Z=a(138),v=a(86),w=a(9112);function T(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function x(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,T,2,1,"mat-error",10),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formLogin.get("email").hasError(o.type)&&(i.formLogin.get("email").dirty||i.formLogin.get("email").touched))}}function A(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function I(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,A,2,1,"mat-error",10),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formLogin.get("password").hasError(o.type)&&(i.formLogin.get("password").dirty||i.formLogin.get("password").touched))}}function O(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function y(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,1,"mat-error",14),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formRegister.get("username").hasError(o.type)&&(i.formRegister.get("username").dirty||i.formRegister.get("username").touched))}}function b(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function M(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,b,2,1,"mat-error",14),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formRegister.get("name").hasError(o.type)&&(i.formRegister.get("name").dirty||i.formRegister.get("name").touched))}}function L(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function q(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,L,2,1,"mat-error",14),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formRegister.get("lastname").hasError(o.type)&&(i.formRegister.get("lastname").dirty||i.formRegister.get("lastname").touched))}}function N(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function U(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,N,2,1,"mat-error",14),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formRegister.get("email").hasError(o.type)&&(i.formRegister.get("email").dirty||i.formRegister.get("email").touched))}}function J(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function k(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,J,2,1,"mat-error",14),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.formRegister.get("password").hasError(o.type)&&(i.formRegister.get("password").dirty||i.formRegister.get("password").touched))}}const F=[{path:"",component:(()=>{class e{constructor(o,i,s){this.authService=o,this.router=i,this.toastr=s,this.formLogin={},this.hide=!0,this.validationMessages=p.ic}ngOnInit(){this.formBuilder()}login(){var o,i;this.user={email:null===(o=this.formLogin.get("email"))||void 0===o?void 0:o.value,password:null===(i=this.formLogin.get("password"))||void 0===i?void 0:i.value},this.authService.login(this.user).subscribe({next:s=>localStorage.setItem("token",s.data),error:s=>{this.toastr.error("Revisa tus credenciales","Ocurri\xf3 un error",{timeOut:3e3}),this.formLogin.reset()},complete:()=>{this.toastr.success("Inicio de sesi\xf3n exitosa","Bienvenido",{timeOut:3e3}),this.router.navigate(["/home"])}})}formBuilder(){this.formLogin=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),r.kI.maxLength(30)]),password:new r.NI(null,[r.kI.required,r.kI.minLength(8),r.kI.maxLength(15)])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h),t.Y36(g.F0),t.Y36(_._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:22,vars:8,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/signup"],["mat-raised-button","","type","submit",3,"disabled"],[4,"ngIf"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return i.login()}),t.TgZ(3,"mat-form-field",3),t.TgZ(4,"mat-label"),t._uU(5,"Correo electr\xf3nico"),t.qZA(),t._UZ(6,"input",4),t.YNc(7,x,2,1,"mat-error",5),t.qZA(),t.TgZ(8,"mat-form-field",3),t.TgZ(9,"mat-label"),t._uU(10,"Contrase\xf1a"),t.qZA(),t._UZ(11,"input",6),t.TgZ(12,"button",7),t.NdJ("click",function(){return i.hide=!i.hide}),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA(),t.qZA(),t.YNc(15,I,2,1,"mat-error",5),t.qZA(),t.TgZ(16,"h3"),t._uU(17,"\xbfAun no tienes una cuenta? "),t.TgZ(18,"a",8),t._uU(19,"Registrarse"),t.qZA(),t.qZA(),t.TgZ(20,"button",9),t._uU(21,"Iniciar sesi\xf3n"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",i.formLogin),t.xp6(5),t.Q6J("ngForOf",i.validationMessages.email),t.xp6(4),t.Q6J("type",i.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",i.hide),t.xp6(2),t.Oqu(i.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngForOf",i.validationMessages.password),t.xp6(5),t.Q6J("disabled",i.formLogin.invalid))},directives:[r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,l.sg,v.lW,m.R9,w.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}.mat-form-field[_ngcontent-%COMP%]{width:20%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:70%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}.mat-form-field[_ngcontent-%COMP%]{width:50%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:80%}}"]}),e})()},{path:"signup",component:(()=>{class e{constructor(o,i,s){this.authService=o,this.router=i,this.toastr=s,this.formRegister={},this.hide=!0,this.hide2=!0,this.validationMessages=p.dB}ngOnInit(){this.formBuilder()}register(){var o,i,s,u,c;this.user={username:null===(o=this.formRegister.get("username"))||void 0===o?void 0:o.value,name:null===(i=this.formRegister.get("name"))||void 0===i?void 0:i.value,lastname:null===(s=this.formRegister.get("lastname"))||void 0===s?void 0:s.value,email:null===(u=this.formRegister.get("email"))||void 0===u?void 0:u.value,password:null===(c=this.formRegister.get("password"))||void 0===c?void 0:c.value},this.authService.register(this.user).subscribe({next:S=>this.toastr.success("Cuenta registrada con exito","Cuenta registrada",{timeOut:3e3}),error:S=>{this.toastr.error("Revisa tus credenciales","Ocurri\xf3 un error",{timeOut:3e3}),this.formRegister.reset()},complete:()=>{this.router.navigate(["/"])}})}formBuilder(){this.formRegister=new r.cw({username:new r.NI(null,[r.kI.required,r.kI.minLength(3),r.kI.maxLength(15)]),name:new r.NI(null,[r.kI.required,r.kI.minLength(3),r.kI.maxLength(20)]),lastname:new r.NI(null,[r.kI.required,r.kI.minLength(5),r.kI.maxLength(30)]),email:new r.NI(null,[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"),r.kI.maxLength(30)]),password:new r.NI(null,[r.kI.required,r.kI.minLength(8),r.kI.maxLength(15)])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h),t.Y36(g.F0),t.Y36(_._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:38,vars:11,consts:[[1,"container"],["src","../../../../assets/dog cat.png",1,"login"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","username"],[4,"ngFor","ngForOf"],[1,"name"],["matInput","","formControlName","name"],["matInput","","formControlName","lastname"],["matInput","","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["routerLink","/"],["mat-raised-button","","type","submit",3,"disabled"],[4,"ngIf"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return i.register()}),t.TgZ(3,"mat-form-field",3),t.TgZ(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",4),t.YNc(7,y,2,1,"mat-error",5),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"mat-form-field",3),t.TgZ(10,"mat-label"),t._uU(11,"Nombre"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,M,2,1,"mat-error",5),t.qZA(),t.TgZ(14,"mat-form-field",3),t.TgZ(15,"mat-label"),t._uU(16,"Apellidos"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,q,2,1,"mat-error",5),t.qZA(),t.qZA(),t.TgZ(19,"mat-form-field",3),t.TgZ(20,"mat-label"),t._uU(21,"Correo electr\xf3nico"),t.qZA(),t._UZ(22,"input",9),t.YNc(23,U,2,1,"mat-error",5),t.qZA(),t.TgZ(24,"mat-form-field",3),t.TgZ(25,"mat-label"),t._uU(26,"Contrase\xf1a"),t.qZA(),t._UZ(27,"input",10),t.TgZ(28,"button",11),t.NdJ("click",function(){return i.hide=!i.hide}),t.TgZ(29,"mat-icon"),t._uU(30),t.qZA(),t.qZA(),t.YNc(31,k,2,1,"mat-error",5),t.qZA(),t.TgZ(32,"h3"),t._uU(33,"\xbfYa tienes una cuenta? "),t.TgZ(34,"a",12),t._uU(35,"Iniciar sesi\xf3n"),t.qZA(),t.qZA(),t.TgZ(36,"button",13),t._uU(37,"Registrarse"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",i.formRegister),t.xp6(5),t.Q6J("ngForOf",i.validationMessages.username),t.xp6(6),t.Q6J("ngForOf",i.validationMessages.name),t.xp6(5),t.Q6J("ngForOf",i.validationMessages.lastname),t.xp6(5),t.Q6J("ngForOf",i.validationMessages.email),t.xp6(4),t.Q6J("type",i.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",i.hide),t.xp6(2),t.Oqu(i.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngForOf",i.validationMessages.password),t.xp6(5),t.Q6J("disabled",i.formRegister.invalid))},directives:[r._Y,r.JL,r.sg,m.KE,m.hX,Z.Nt,r.Fj,r.JJ,r.u,l.sg,v.lW,m.R9,w.Hw,g.yS,m.TO,l.O5],styles:[".container[_ngcontent-%COMP%]{width:80%;height:auto;margin:5% auto auto;justify-content:center;text-align:center}.mat-form-field[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{margin:10%;width:30%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{background-color:#43a9bf;color:#fff;width:50%}.name[_ngcontent-%COMP%]{width:50%;display:inline-flex;align-items:center;justify-content:center}@media (min-width: 1000px){.login[_ngcontent-%COMP%]{margin:0%;width:13%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:20%}.mat-form-field[_ngcontent-%COMP%]{width:20%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:70%}.name[_ngcontent-%COMP%]{width:40%}}@media (min-width: 700px){.login[_ngcontent-%COMP%]{margin:1%;width:18%;height:auto}.mat-raised-button[_ngcontent-%COMP%]{width:30%}.mat-form-field[_ngcontent-%COMP%]{width:50%;display:block;margin-right:auto;margin-left:auto}.container[_ngcontent-%COMP%]{width:80%}.name[_ngcontent-%COMP%]{width:50%}}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(F)],g.Bz]}),e})();var Y=a(4764);let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,P,Y.q]]}),e})()}}]);